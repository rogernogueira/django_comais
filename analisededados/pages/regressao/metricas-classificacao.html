<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√©tricas de Classifica√ß√£o - An√°lise de Regress√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'bg-base': '#0f172a',
                        'bg-elevated': '#020617',
                        'bg-surface': '#1e293b',
                        'bg-muted': '#334155',
                        'text-primary': '#f1f5f9',
                        'text-secondary': '#cbd5e1',
                        'text-muted': '#94a3b8',
                        'reg-purple': '#8b5cf6',
                        'primary': '#8b5cf6',
                    }
                }
            }
        }
    </script>
    <style>
        .back-button {
            transition: all 0.2s ease;
        }

        .back-button:hover {
            background-color: rgba(139, 92, 246, 0.2);
            transform: translateX(-2px);
        }

        .element-clickable {
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .element-clickable:hover {
            background-color: rgba(139, 92, 246, 0.1);
            transform: translateY(-2px);
        }
    </style>
</head>

<body class="bg-bg-base text-text-primary font-sans p-8">
    <div class="max-w-6xl mx-auto">
        <div class="flex items-center mb-8">
            <button class="back-button bg-primary/20 p-3 rounded-lg mr-4"
                onclick="window.location.href='../../regressao.html'">
                <span class="text-primary text-lg">‚Üê</span>
            </button>
            <h1 class="text-4xl text-primary font-bold">M√©tricas de Classifica√ß√£o</h1>
        </div>

        <p class="text-xl text-center mb-12 text-text-secondary">Avaliando modelos de Regress√£o Log√≠stica e
            Classifica√ß√£o.</p>

        <!-- Matriz de Confus√£o -->
        <div class="mb-8 bg-bg-muted/20 p-6 rounded-lg">
            <h3 class="text-2xl mb-4 text-primary font-bold text-center">Matriz de Confus√£o</h3>
            <p class="text-center text-text-secondary mb-6">
                A base de todas as m√©tricas de classifica√ß√£o. Mostra acertos e erros do modelo.
            </p>
            <div class="max-w-2xl mx-auto">
                <div class="grid grid-cols-3 gap-2 text-center">
                    <!-- Header -->
                    <div></div>
                    <div class="text-sm text-text-muted font-bold">Predito: Positivo</div>
                    <div class="text-sm text-text-muted font-bold">Predito: Negativo</div>

                    <!-- Row 1 -->
                    <div class="text-sm text-text-muted font-bold flex items-center">Real: Positivo</div>
                    <div class="bg-green-500/20 border-2 border-green-500 p-6 rounded-lg">
                        <p class="text-2xl font-bold text-green-400">VP</p>
                        <p class="text-xs text-green-300">Verdadeiro Positivo</p>
                        <p class="text-xs text-text-muted mt-1">Acertou: √â positivo</p>
                    </div>
                    <div class="bg-red-500/20 border-2 border-red-500 p-6 rounded-lg">
                        <p class="text-2xl font-bold text-red-400">FN</p>
                        <p class="text-xs text-red-300">Falso Negativo</p>
                        <p class="text-xs text-text-muted mt-1">Errou: Disse negativo</p>
                    </div>

                    <!-- Row 2 -->
                    <div class="text-sm text-text-muted font-bold flex items-center">Real: Negativo</div>
                    <div class="bg-red-500/20 border-2 border-red-500 p-6 rounded-lg">
                        <p class="text-2xl font-bold text-red-400">FP</p>
                        <p class="text-xs text-red-300">Falso Positivo</p>
                        <p class="text-xs text-text-muted mt-1">Errou: Disse positivo</p>
                    </div>
                    <div class="bg-green-500/20 border-2 border-green-500 p-6 rounded-lg">
                        <p class="text-2xl font-bold text-green-400">VN</p>
                        <p class="text-xs text-green-300">Verdadeiro Negativo</p>
                        <p class="text-xs text-text-muted mt-1">Acertou: √â negativo</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Acur√°cia e Precis√£o -->
            <div class="space-y-6">
                <div class="bg-bg-muted/20 p-4 rounded-lg">
                    <h3 class="text-xl mb-4 text-primary font-bold">Acur√°cia (Accuracy)</h3>
                    <p class="text-text-secondary mb-4">
                        Propor√ß√£o de predi√ß√µes corretas (VP + VN) sobre o total.
                    </p>
                    <div class="bg-primary/10 p-4 rounded border border-primary/30 text-center mb-4">
                        <p class="text-2xl text-primary font-mono font-bold mb-2">
                            Acur√°cia = (VP + VN) / (VP + VN + FP + FN)
                        </p>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start p-2 bg-green-500/10 rounded">
                            <span class="text-green-400 mr-2">‚úì</span>
                            <span class="text-text-secondary">F√°cil de interpretar (0 a 1 ou 0% a 100%)</span>
                        </div>
                        <div class="flex items-start p-2 bg-red-500/10 rounded">
                            <span class="text-red-400 mr-2">‚úó</span>
                            <span class="text-text-secondary">Enganosa com classes desbalanceadas</span>
                        </div>
                    </div>
                    <div class="mt-4 bg-yellow-900/20 p-3 rounded border border-yellow-500/30">
                        <p class="text-xs text-yellow-400">
                            <strong>Exemplo:</strong> 95% de emails s√£o normais. Um modelo que sempre diz "normal" tem
                            95% de acur√°cia, mas √© in√∫til!
                        </p>
                    </div>
                </div>

                <div class="bg-bg-muted/20 p-4 rounded-lg">
                    <h3 class="text-xl mb-4 text-blue-400 font-bold">Precis√£o (Precision)</h3>
                    <p class="text-text-secondary mb-4">
                        Das predi√ß√µes positivas, quantas estavam corretas?
                    </p>
                    <div class="bg-blue-500/10 p-4 rounded border border-blue-500/30 text-center mb-4">
                        <p class="text-2xl text-blue-400 font-mono font-bold mb-2">
                            Precis√£o = VP / (VP + FP)
                        </p>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start p-2 bg-blue-500/10 rounded">
                            <span class="text-blue-400 mr-2">‚Üí</span>
                            <span class="text-text-secondary">Foco: Evitar Falsos Positivos</span>
                        </div>
                        <div class="flex items-start p-2 bg-blue-500/10 rounded">
                            <span class="text-blue-400 mr-2">‚Üí</span>
                            <span class="text-text-secondary">Importante quando FP √© custoso</span>
                        </div>
                    </div>
                    <div class="mt-4 bg-blue-900/20 p-3 rounded border border-blue-500/30">
                        <p class="text-xs text-blue-400">
                            <strong>Exemplo:</strong> Filtro de spam. Precis√£o alta = poucos emails normais marcados
                            como spam.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Recall e F1-Score -->
            <div class="space-y-6">
                <div class="bg-bg-muted/20 p-4 rounded-lg">
                    <h3 class="text-xl mb-4 text-green-400 font-bold">Recall (Sensibilidade)</h3>
                    <p class="text-text-secondary mb-4">
                        Dos casos realmente positivos, quantos o modelo detectou?
                    </p>
                    <div class="bg-green-500/10 p-4 rounded border border-green-500/30 text-center mb-4">
                        <p class="text-2xl text-green-400 font-mono font-bold mb-2">
                            Recall = VP / (VP + FN)
                        </p>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start p-2 bg-green-500/10 rounded">
                            <span class="text-green-400 mr-2">‚Üí</span>
                            <span class="text-text-secondary">Foco: Evitar Falsos Negativos</span>
                        </div>
                        <div class="flex items-start p-2 bg-green-500/10 rounded">
                            <span class="text-green-400 mr-2">‚Üí</span>
                            <span class="text-text-secondary">Importante quando FN √© custoso</span>
                        </div>
                    </div>
                    <div class="mt-4 bg-green-900/20 p-3 rounded border border-green-500/30">
                        <p class="text-xs text-green-400">
                            <strong>Exemplo:</strong> Diagn√≥stico de c√¢ncer. Recall alto = poucos casos de c√¢ncer n√£o
                            detectados.
                        </p>
                    </div>
                </div>

                <div class="bg-bg-muted/20 p-4 rounded-lg">
                    <h3 class="text-xl mb-4 text-orange-400 font-bold">F1-Score</h3>
                    <p class="text-text-secondary mb-4">
                        M√©dia harm√¥nica entre Precis√£o e Recall. Equilibra ambos.
                    </p>
                    <div class="bg-orange-500/10 p-4 rounded border border-orange-500/30 text-center mb-4">
                        <p class="text-2xl text-orange-400 font-mono font-bold mb-2">
                            F1 = 2 √ó (Precis√£o √ó Recall) / (Precis√£o + Recall)
                        </p>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start p-2 bg-orange-500/10 rounded">
                            <span class="text-orange-400 mr-2">‚úì</span>
                            <span class="text-text-secondary">√ötil quando h√° desbalanceamento</span>
                        </div>
                        <div class="flex items-start p-2 bg-orange-500/10 rounded">
                            <span class="text-orange-400 mr-2">‚úì</span>
                            <span class="text-text-secondary">Penaliza se Precis√£o ou Recall for muito baixo</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Curva ROC e AUC -->
        <div class="mt-8 pt-6 border-t border-bg-muted">
            <h3 class="text-2xl mb-6 text-primary font-bold text-center">Curva ROC e AUC</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-bg-surface p-6 rounded-lg border border-gray-700">
                    <h4 class="text-lg font-bold text-white mb-3">Curva ROC (Receiver Operating Characteristic)</h4>
                    <div class="bg-black/20 rounded p-4 h-48 mb-4 flex items-center justify-center">
                        <svg width="100%" height="100%" viewBox="0 0 100 100">
                            <!-- Axes -->
                            <line x1="10" y1="90" x2="90" y2="90" stroke="#475569" stroke-width="1" />
                            <line x1="10" y1="90" x2="10" y2="10" stroke="#475569" stroke-width="1" />

                            <!-- Diagonal (Random) -->
                            <line x1="10" y1="90" x2="90" y2="10" stroke="#ef4444" stroke-width="1"
                                stroke-dasharray="2" />

                            <!-- ROC Curve (Good model) -->
                            <path d="M 10 90 Q 15 60, 20 40 T 40 15 T 90 10" stroke="#8b5cf6" stroke-width="2"
                                fill="none" />

                            <!-- Area under curve (shaded) -->
                            <path d="M 10 90 Q 15 60, 20 40 T 40 15 T 90 10 L 90 90 Z" fill="#8b5cf6" opacity="0.2" />

                            <!-- Labels -->
                            <text x="50" y="98" font-size="5" fill="#94a3b8" text-anchor="middle">Taxa de Falsos
                                Positivos</text>
                            <text x="5" y="50" font-size="5" fill="#94a3b8" text-anchor="middle"
                                transform="rotate(-90 5,50)">Taxa de Verdadeiros Positivos (Recall)</text>

                            <!-- Legend -->
                            <text x="30" y="70" font-size="4" fill="#ef4444">Aleat√≥rio (AUC=0.5)</text>
                            <text x="30" y="30" font-size="4" fill="#8b5cf6">Bom Modelo (AUC>0.8)</text>
                        </svg>
                    </div>
                    <p class="text-sm text-text-secondary">
                        Mostra o trade-off entre Recall (VP) e Taxa de Falsos Positivos em diferentes thresholds.
                    </p>
                </div>

                <div class="bg-bg-surface p-6 rounded-lg border border-gray-700">
                    <h4 class="text-lg font-bold text-white mb-3">AUC (Area Under the Curve)</h4>
                    <p class="text-sm text-text-secondary mb-4">
                        √Årea sob a curva ROC. Mede a capacidade do modelo de distinguir entre classes.
                    </p>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center p-3 bg-green-500/10 rounded">
                            <span class="text-text-secondary">AUC = 1.0</span>
                            <span class="text-green-400 font-bold">Perfeito</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-blue-500/10 rounded">
                            <span class="text-text-secondary">0.9 ‚â§ AUC < 1.0</span>
                                    <span class="text-blue-400 font-bold">Excelente</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-primary/10 rounded">
                            <span class="text-text-secondary">0.8 ‚â§ AUC < 0.9</span>
                                    <span class="text-primary font-bold">Bom</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-yellow-500/10 rounded">
                            <span class="text-text-secondary">0.7 ‚â§ AUC < 0.8</span>
                                    <span class="text-yellow-400 font-bold">Razo√°vel</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-red-500/10 rounded">
                            <span class="text-text-secondary">AUC < 0.7</span>
                                    <span class="text-red-400 font-bold">Fraco</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-500/10 rounded">
                            <span class="text-text-secondary">AUC = 0.5</span>
                            <span class="text-gray-400 font-bold">Aleat√≥rio</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trade-off Precis√£o vs Recall -->
        <div class="mt-8 pt-6 border-t border-bg-muted">
            <h3 class="text-2xl mb-6 text-primary font-bold text-center">Trade-off: Precis√£o vs Recall</h3>
            <div class="bg-bg-surface p-6 rounded-lg border border-gray-700">
                <p class="text-text-secondary mb-6 text-center">
                    Geralmente, aumentar um diminui o outro. Voc√™ precisa escolher o que √© mais importante.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-blue-900/20 p-4 rounded border border-blue-500/30">
                        <h4 class="text-blue-400 font-bold mb-2">Priorize Precis√£o quando:</h4>
                        <ul class="space-y-2 text-sm text-blue-200">
                            <li>‚Ä¢ Falsos Positivos s√£o muito custosos</li>
                            <li>‚Ä¢ Exemplo: Acusar inocente de crime</li>
                            <li>‚Ä¢ Exemplo: Marcar email normal como spam</li>
                        </ul>
                    </div>
                    <div class="bg-green-900/20 p-4 rounded border border-green-500/30">
                        <h4 class="text-green-400 font-bold mb-2">Priorize Recall quando:</h4>
                        <ul class="space-y-2 text-sm text-green-200">
                            <li>‚Ä¢ Falsos Negativos s√£o muito custosos</li>
                            <li>‚Ä¢ Exemplo: N√£o detectar doen√ßa grave</li>
                            <li>‚Ä¢ Exemplo: N√£o detectar fraude financeira</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exemplo Pr√°tico -->
        <div class="mt-8 bg-purple-900/20 p-6 rounded-2xl border border-purple-500/30">
            <h4 class="text-purple-400 font-bold mb-3 text-lg">üìä Exemplo: Detector de Fraude</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-purple-900/30 p-4 rounded">
                    <h5 class="text-white font-bold mb-2">Matriz de Confus√£o</h5>
                    <div class="grid grid-cols-2 gap-2 text-center text-sm">
                        <div class="bg-green-500/20 p-3 rounded">
                            <p class="font-bold text-green-400">VP = 80</p>
                            <p class="text-xs text-text-muted">Fraudes detectadas</p>
                        </div>
                        <div class="bg-red-500/20 p-3 rounded">
                            <p class="font-bold text-red-400">FN = 20</p>
                            <p class="text-xs text-text-muted">Fraudes perdidas</p>
                        </div>
                        <div class="bg-red-500/20 p-3 rounded">
                            <p class="font-bold text-red-400">FP = 50</p>
                            <p class="text-xs text-text-muted">Falsos alarmes</p>
                        </div>
                        <div class="bg-green-500/20 p-3 rounded">
                            <p class="font-bold text-green-400">VN = 850</p>
                            <p class="text-xs text-text-muted">Normais corretos</p>
                        </div>
                    </div>
                </div>
                <div class="bg-purple-900/30 p-4 rounded">
                    <h5 class="text-white font-bold mb-2">M√©tricas Calculadas</h5>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-purple-300">Acur√°cia:</span>
                            <span class="text-white font-mono">(80+850)/1000 = 93%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-purple-300">Precis√£o:</span>
                            <span class="text-white font-mono">80/(80+50) = 61.5%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-purple-300">Recall:</span>
                            <span class="text-white font-mono">80/(80+20) = 80%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-purple-300">F1-Score:</span>
                            <span class="text-white font-mono">2√ó(0.615√ó0.8)/(0.615+0.8) = 69.4%</span>
                        </div>
                    </div>
                    <p class="text-xs text-purple-300 mt-3">
                        Interpreta√ß√£o: Detectamos 80% das fraudes, mas 38.5% dos alertas s√£o falsos alarmes.
                    </p>
                </div>
            </div>
        </div>

        <!-- Resumo -->
        <div class="mt-8 bg-yellow-900/20 p-6 rounded-2xl border border-yellow-500/30">
            <h4 class="text-yellow-400 font-bold mb-3 text-lg">üìå Resumo: Qual m√©trica usar?</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div class="flex items-start">
                    <span class="text-yellow-400 mr-2">‚Ä¢</span>
                    <span class="text-yellow-200"><strong>Classes balanceadas:</strong> Acur√°cia √© suficiente</span>
                </div>
                <div class="flex items-start">
                    <span class="text-yellow-400 mr-2">‚Ä¢</span>
                    <span class="text-yellow-200"><strong>Classes desbalanceadas:</strong> Use F1-Score ou AUC</span>
                </div>
                <div class="flex items-start">
                    <span class="text-yellow-400 mr-2">‚Ä¢</span>
                    <span class="text-yellow-200"><strong>Custo de FP alto:</strong> Priorize Precis√£o</span>
                </div>
                <div class="flex items-start">
                    <span class="text-yellow-400 mr-2">‚Ä¢</span>
                    <span class="text-yellow-200"><strong>Custo de FN alto:</strong> Priorize Recall</span>
                </div>
                <div class="flex items-start">
                    <span class="text-yellow-400 mr-2">‚Ä¢</span>
                    <span class="text-yellow-200"><strong>Comparar modelos:</strong> AUC √© excelente
                        (threshold-independent)</span>
                </div>
                <div class="flex items-start">
                    <span class="text-yellow-400 mr-2">‚Ä¢</span>
                    <span class="text-yellow-200"><strong>Sempre:</strong> Analise a Matriz de Confus√£o primeiro!</span>
                </div>
            </div>
        </div>
    </div>
  <script src="../../assets/js/footer.js"></script>
</body>

</html>