<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOF - An√°lise de Contexto Local</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bg-base': '#0f172a',       // Slate 900
                        'bg-elevated': '#020617',   // Slate 950
                        'bg-surface': '#1e293b',    // Slate 800
                        'bg-muted': '#334155',      // Slate 700
                        'text-primary': '#f8fafc',  // Slate 50
                        'text-secondary': '#cbd5e1',// Slate 300
                        'text-muted': '#94a3b8',    // Slate 400
                        'intel-blue': '#60a5fa',    // Blue 400 (Main)
                        'intel-dark': '#1e3a8a',    // Blue 900
                        'alert-red': '#ef4444',  
                        'primary':'#5da0f1',   // Red 500
                    }
                }
            }
        }
    </script>
    <style>
        .math-font {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }
        .fraction {
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            font-size: 0.9em;
        }
        .fraction > span {
            display: block;
            padding: 0 0.2em;
        }
        .fraction span.bottom {
            border-top: 1px solid #94a3b8;
        }
        .concept-card:hover {
            border-color: #60a5fa;
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
    </style>
</head>

<body class="bg-bg-base text-text-primary font-sans overflow-x-hidden min-h-screen p-4 md:p-8">
    <div class="max-w-7xl mx-auto space-y-10">

        <header class="flex items-center justify-between border-b border-gray-800 pb-6">
            <div class="flex items-center gap-4">
                <button class="bg-primary/10 hover:bg-primary/20 text-primary p-3 rounded-lg transition-all" onclick="history.back()">
                    ‚Üê 
                </button>
                <div>
                    <h1 class="text-4xl font-bold text-primary tracking-tight">Local Outlier Factor (LOF)</h1>
                    <p class="text-text-muted mt-1">Detec√ß√£o de Anomalias baseada em Densidade Relativa</p>
                </div>
            </div>
            
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-bg-elevated p-6 rounded-xl border border-gray-800 shadow-2xl relative">
                <div class="absolute top-4 left-4 text-xs font-mono text-intel-blue">DENSIDADE LOCAL: CENTRO vs PERIFERIA</div>
                <svg aria-label="LOF Concept" class="w-full h-64" role="img" viewBox="0 0 500 300">
                    <rect fill="#020617" height="300" width="500" x="0" y="0"></rect>

                    <g opacity="0.8">
                        <circle cx="100" cy="150" r="4" fill="#60a5fa"></circle>
                        <circle cx="110" cy="160" r="4" fill="#60a5fa"></circle>
                        <circle cx="90" cy="140" r="4" fill="#60a5fa"></circle>
                        <circle cx="100" cy="130" r="4" fill="#60a5fa"></circle>
                        <text x="70" y="110" fill="#60a5fa" font-size="10">Mancha Densa (Centro)</text>
                    </g>

                    <g opacity="0.6">
                        <circle cx="350" cy="150" r="4" fill="#60a5fa"></circle>
                        <circle cx="380" cy="180" r="4" fill="#60a5fa"></circle>
                        <circle cx="320" cy="120" r="4" fill="#60a5fa"></circle>
                        <text x="320" y="100" fill="#60a5fa" font-size="10">Mancha Esparsa (Rural)</text>
                    </g>

                    <circle cx="410" cy="110" r="6" fill="#ef4444" class="animate-pulse"></circle>
                    <line x1="380" y1="180" x2="410" y2="110" stroke="#ef4444" stroke-width="1" stroke-dasharray="2,2"></line>
                    <text x="420" y="115" fill="#ef4444" font-size="12" font-weight="bold">Outlier Local</text>
                    
                    <text x="10" y="280" fill="#94a3b8" font-size="10">Nota: O ponto vermelho seria considerado "normal" se estivesse na mancha densa pela dist√¢ncia,</text>
                    <text x="10" y="292" fill="#94a3b8" font-size="10">mas comparado aos vizinhos locais, ele est√° isolado (LOF Alto).</text>
                </svg>
            </div>

            <div class="space-y-6">
                <div class="bg-bg-surface p-6 rounded-xl border border-gray-700">
                    <h3 class="text-xl font-bold text-primary mb-3">O Problema da Densidade Vari√°vel</h3>
                    <p class="text-text-secondary leading-relaxed mb-4">
                        Em seguran√ßa p√∫blica, o "normal" muda conforme a regi√£o. 
                        5 roubos/dia na Pra√ßa da S√© (Centro) √© rotina. 5 roubos/dia num bairro rural √© um surto grav√≠ssimo.
                    </p>
                    <p class="text-text-secondary leading-relaxed border-l-4 border-intel-blue pl-4">
                        O LOF √© a √∫nica ferramenta que entende isso. Ele n√£o usa uma r√©gua fixa. Ele pergunta: <strong>"Este evento √© estranho comparado aos seus vizinhos imediatos?"</strong>
                    </p>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-intel-blue/10 p-3 rounded text-center border border-intel-blue/30">
                        <span class="block text-xl font-bold text-white">LOF ‚âà 1</span>
                        <span class="text-xs text-intel-blue">Comportamento Padr√£o</span>
                    </div>
                    <div class="bg-alert-red/10 p-3 rounded text-center border border-alert-red/30">
                        <span class="block text-xl font-bold text-white">LOF > 1.5</span>
                        <span class="text-xs text-alert-red">Anomalia Contextual</span>
                    </div>
                </div>
            </div>
        </div>

        <section>
            <h2 class="text-2xl font-bold text-primary mb-6">Como o Algoritmo Pensa</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-bg-muted/30 p-5 rounded-lg border-t-2 border-intel-blue">
                    <span class="text-intel-blue font-bold mb-2 block">01. K-Vizinhos</span>
                    <p class="text-sm text-gray-400">Para cada ocorr√™ncia, o sistema identifica quem s√£o os "k" vizinhos mais pr√≥ximos (geograficamente ou por perfil).</p>
                </div>
                <div class="bg-bg-muted/30 p-5 rounded-lg border-t-2 border-intel-blue">
                    <span class="text-intel-blue font-bold mb-2 block">02. Densidade Local (LRD)</span>
                    <p class="text-sm text-gray-400">Calcula o qu√£o "apertados" est√£o esses vizinhos. √â uma √°rea densa (muitos crimes) ou esparsa?</p>
                </div>
                <div class="bg-bg-muted/30 p-5 rounded-lg border-t-2 border-intel-blue">
                    <span class="text-intel-blue font-bold mb-2 block">03. Compara√ß√£o Relativa</span>
                    <p class="text-sm text-gray-400">O Pulo do Gato: Divide a densidade dos vizinhos pela densidade do ponto. Se os vizinhos s√£o densos e o ponto √© isolado, o Score explode.</p>
                </div>
            </div>
        </section>

        <section class="bg-bg-surface p-8 rounded-xl border border-gray-700">
            <h2 class="text-2xl font-bold text-primary mb-6">A Matem√°tica (Simplicada)</h2>
            <div class="flex flex-col md:flex-row items-center justify-around gap-8">
                
                <div class="bg-black/40 p-6 rounded-lg border border-gray-600">
                    <div class="text-2xl text-white math-font text-center">
                        LOF<sub class="text-sm">k</sub>(A) = 
                        <div class="fraction">
                            <span class="top">‚àë LRD(B)</span>
                            <span class="bottom">|N<sub class="text-xs">k</sub>(A)|</span>
                        </div>
                        <span class="mx-2">/</span>
                        LRD(A)
                    </div>
                </div>

                <div class="text-gray-300 space-y-2 text-sm max-w-lg">
                    <p>Onde:</p>
                    <ul class="list-disc pl-5 space-y-1 text-gray-400">
                        <li><strong>LRD(A):</strong> Densidade de Alcance Local do ponto A (qu√£o perto ele est√° dos outros).</li>
                        <li><strong>LRD(B):</strong> Densidade m√©dia dos vizinhos de A.</li>
                        <li><strong>Interpreta√ß√£o:</strong> Estamos comparando a densidade da "vizinhan√ßa" com a densidade do "indiv√≠duo".</li>
                    </ul>
                </div>
            </div>
            
        </section>

        <section>
            <h2 class="text-2xl font-bold text-primary mb-6">Par√¢metros (Scikit-Learn) & Regras de Bolso</h2>
            <div class="overflow-x-auto rounded-lg border border-gray-700">
                <table class="w-full text-left text-sm text-gray-400">
                    <thead class="bg-bg-elevated text-xs uppercase text-gray-200">
                        <tr>
                            <th class="px-6 py-4">Par√¢metro</th>
                            <th class="px-6 py-4">O que faz?</th>
                            <th class="px-6 py-4 text-intel-blue">Dica de Intelig√™ncia</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-800 bg-bg-surface">
                        <tr>
                            <td class="px-6 py-4 font-mono text-white">n_neighbors</td>
                            <td class="px-6 py-4">N√∫mero de vizinhos para compara√ß√£o (k).</td>
                            <td class="px-6 py-4">
                                <strong>Regra: 20 a 50.</strong><br>
                                Se for muito baixo (ex: 5), gera ru√≠do. Se for muito alto, voc√™ perde anomalias locais pequenas (ex: micro-pontos de tr√°fico).
                            </td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 font-mono text-white">metric</td>
                            <td class="px-6 py-4">Como medir a dist√¢ncia.</td>
                            <td class="px-6 py-4">
                                Use <strong>'manhattan'</strong> para cidades com quadras (grade urbana). Use <strong>'euclidean'</strong> para √°reas abertas/rurais.
                            </td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 font-mono text-white">contamination</td>
                            <td class="px-6 py-4">Estimativa de % de outliers.</td>
                            <td class="px-6 py-4">
                                Em seguran√ßa p√∫blica, anomalias reais s√£o raras. Comece com <strong>0.01 (1%)</strong> para evitar excesso de alertas falsos.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="bg-bg-elevated p-6 rounded-xl border-l-4 border-intel-blue">
            <h2 class="text-2xl font-bold text-primary mb-4">Cen√°rio: Lavagem de Dinheiro (Compara√ß√£o por Ramo)</h2>
            <p class="text-gray-400 mb-6">
                Comparar o faturamento de uma Padaria com uma Multinacional √© in√∫til (M√©todo Global falha). 
                O LOF compara a Padaria com <em>outras padarias da regi√£o</em> (M√©todo Local).
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="overflow-hidden rounded border border-gray-700">
                    <table class="w-full text-sm text-center text-gray-300">
                        <thead class="bg-gray-800 text-white">
                            <tr>
                                <th class="p-2">Estabelecimento</th>
                                <th class="p-2">Faturamento</th>
                                <th class="p-2">Densidade Vizinhos</th>
                                <th class="p-2">LOF</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-800">
                                <td class="p-2">Padaria A</td>
                                <td class="p-2">R$ 50k</td>
                                <td class="p-2">Alta (M√©dia R$ 48k)</td>
                                <td class="p-2 text-intel-blue">1.02</td>
                            </tr>
                            <tr class="border-b border-gray-800">
                                <td class="p-2">Padaria B</td>
                                <td class="p-2">R$ 55k</td>
                                <td class="p-2">Alta (M√©dia R$ 52k)</td>
                                <td class="p-2 text-intel-blue">1.05</td>
                            </tr>
                            <tr class="bg-alert-red/10 animate-pulse">
                                <td class="p-2 font-bold text-white">Padaria "Fantasma"</td>
                                <td class="p-2 font-bold text-white">R$ 500k</td>
                                <td class="p-2">Alta (M√©dia R$ 50k)</td>
                                <td class="p-2 font-bold text-alert-red text-lg">8.50</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="flex items-center">
                    <p class="text-sm text-gray-400 italic">
                        "O algoritmo percebeu que, embora 500k n√£o seja muito para uma ind√∫stria (dado global), √© <strong>extremamente an√¥malo</strong> para o cluster local de 'pequenos com√©rcios' onde o alvo est√° inserido."
                    </p>
                </div>
            </div>
        </section>

        <section>
            <h2 class="text-2xl font-bold text-primary mb-6">Aplica√ß√µes</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="concept-card bg-bg-muted/20 p-6 rounded-lg border border-transparent">
                    <div class="text-intel-blue text-3xl mb-3">üìç</div>
                    <h3 class="font-bold text-primary text-lg mb-2">Manchas Criminais At√≠picas</h3>
                    <p class="text-sm text-gray-400">Detectar um roubo de carga ocorrendo em uma rua onde <em>nunca</em> acontece nada, diferenciando-o de roubos em √°reas onde isso √© "comum".</p>
                </div>
                <div class="concept-card bg-bg-muted/20 p-6 rounded-lg border border-transparent">
                    <div class="text-intel-blue text-3xl mb-3">üëÆ</div>
                    <h3 class="font-bold text-primary text-lg mb-2">Comportamento de Agentes</h3>
                    <p class="text-sm text-gray-400">Identificar policiais que aplicam multas em padr√µes geogr√°ficos muito diferentes do resto do batalh√£o (ex: focando em locais isolados).</p>
                </div>
                <div class="concept-card bg-bg-muted/20 p-6 rounded-lg border border-transparent">
                    <div class="text-intel-blue text-3xl mb-3">üï∏Ô∏è</div>
                    <h3 class="font-bold text-primary text-lg mb-2">Tr√°fico em Redes Sociais</h3>
                    <p class="text-sm text-gray-400">Detectar perfis que interagem de forma isolada, mas conectada a clusters densos de usu√°rios suspeitos (o fornecedor que n√£o se mistura).</p>
                </div>
            </div>
        </section>

        

    </div>
  <script src="../../assets/js/footer.js"></script>
</body>
</html>