<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amostragem & Balanceamento - Inteligência Policial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bg-base': '#0f172a',       // Slate 900
                        'bg-elevated': '#020617',   // Slate 950
                        'bg-surface': '#1e293b',    // Slate 800
                        'bg-muted': '#334155',      // Slate 700
                        'text-primary': '#f8fafc',  // Slate 50
                        'text-secondary': '#cbd5e1',// Slate 300
                        'text-muted': '#94a3b8',    // Slate 400
                        'intel-red': '#ef4444',     // Red 500 (Critical/Alert)
                        'intel-light': '#fca5a5',   // Red 300
                        'intel-dark': '#7f1d1d',    // Red 900
                        'primary':'#ef4444',
                    }
                }
            }
        }
    </script>
    <style>
        .math-font {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
    </style>
</head>

<body class="bg-bg-base text-text-primary font-sans overflow-x-hidden min-h-screen p-4 md:p-8">
    <div class="max-w-7xl mx-auto space-y-10">

        <header class="flex items-center justify-between border-b border-gray-800 pb-6">
            <div class="flex items-center gap-4">
                <button class="bg-intel-red/10 hover:bg-intel-red/20 text-intel-red p-3 rounded-lg transition-all" onclick="history.back()">
                    ←
                </button>
                <div>
                    <h1 class="text-4xl font-bold text-primary tracking-tight">Técnicas de Amostragem (SMOTE)</h1>
                    <p class="text-text-muted mt-1">Resolvendo o problema de Dados Desbalanceados em Eventos Raros</p>
                </div>
            </div>
            <div class="hidden md:block text-right">
                <div class="text-xs font-mono text-gray-500">FASE DO PROJETO:</div>
                <div class="text-sm font-bold text-intel-red">PRÉ-PROCESSAMENTO</div>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-bg-elevated p-6 rounded-xl border border-gray-800 shadow-2xl relative">
                <div class="absolute top-4 left-4 text-xs font-mono text-intel-light">GERAÇÃO DE DADOS SINTÉTICOS</div>
                <svg aria-label="SMOTE Concept" class="w-full h-64" role="img" viewBox="0 0 500 300">
                    <rect fill="#020617" height="300" width="500" x="0" y="0"></rect>

                    <g opacity="0.3">
                        <circle cx="50" cy="50" r="3" fill="#334155"></circle>
                        <circle cx="60" cy="60" r="3" fill="#334155"></circle>
                        <circle cx="40" cy="70" r="3" fill="#334155"></circle>
                        <rect x="20" y="20" width="150" height="260" fill="none" stroke="#334155" stroke-dasharray="2 2"></rect>
                        <text x="30" y="290" fill="#334155" font-size="10">Maioria (Normal)</text>
                    </g>

                    <circle cx="300" cy="150" r="6" fill="#ef4444"></circle> <text x="300" y="140" fill="#ef4444" font-size="10" text-anchor="middle">A (Real)</text>
                    
                    <circle cx="380" cy="220" r="6" fill="#ef4444"></circle> <text x="380" y="235" fill="#ef4444" font-size="10" text-anchor="middle">B (Real)</text>

                    <line x1="300" y1="150" x2="380" y2="220" stroke="#ef4444" stroke-width="1" stroke-dasharray="4 4"></line>
                    
                    <circle cx="340" cy="185" r="6" fill="none" stroke="#fff" stroke-width="2" class="animate-pulse"></circle>
                    <circle cx="340" cy="185" r="3" fill="#ef4444"></circle>
                    
                    <text x="340" y="170" fill="#fff" font-size="12" font-weight="bold" text-anchor="middle">Sintético</text>
                    <text x="340" y="260" fill="#94a3b8" font-size="10" text-anchor="middle">O algoritmo cria um "criminoso virtual"</text>
                    <text x="340" y="272" fill="#94a3b8" font-size="10" text-anchor="middle">entre os dois reais.</text>
                </svg>
            </div>

            <div class="space-y-6">
                <div class="glass-panel p-6 rounded-xl">
                    <h3 class="text-xl font-bold text-intel-red mb-3">O Paradoxo da Acurácia</h3>
                    <p class="text-text-secondary leading-relaxed mb-4">
                        Em segurança pública, dados são sempre desbalanceados. Se você tem 1.000 pessoas e apenas 1 terrorista, um modelo "preguiçoso" que diz <em>"Ninguém é terrorista"</em> terá <strong>99.9% de acurácia</strong>.
                    </p>
                    <p class="text-text-secondary leading-relaxed border-l-4 border-intel-red pl-4">
                        Isso é inútil para a polícia. Precisamos forçar o modelo a aprender as características desse 1 terrorista.
                    </p>
                    <p class="text-text-secondary mt-3">
                        O <strong>SMOTE</strong> resolve isso não apenas duplicando o criminoso (o que vicia o modelo), mas criando variações matemáticas plausíveis dele para enriquecer o treino.
                    </p>
                </div>
            </div>
        </div>

        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-bg-surface p-6 rounded-xl border border-gray-700">
                <h3 class="text-lg font-bold text-white mb-2">1. Undersampling</h3>
                <p class="text-xs text-gray-500 mb-3 uppercase tracking-wider">Reduzir a Maioria</p>
                <p class="text-gray-300 text-sm mb-4">Descarta aleatoriamente dados de cidadãos honestos para equilibrar com o número de criminosos.</p>
                <div class="bg-black/30 p-3 rounded text-xs text-gray-400">
                    <strong>Risco:</strong> Perda massiva de informação. Pode descartar padrões importantes de normalidade.
                </div>
            </div>

            <div class="bg-bg-surface p-6 rounded-xl border border-gray-700">
                <h3 class="text-lg font-bold text-white mb-2">2. Random Oversampling</h3>
                <p class="text-xs text-gray-500 mb-3 uppercase tracking-wider">Duplicar a Minoria</p>
                <p class="text-gray-300 text-sm mb-4">Simplesmente copia e cola os registros de crimes existentes várias vezes.</p>
                <div class="bg-black/30 p-3 rounded text-xs text-gray-400">
                    <strong>Risco:</strong> Overfitting extremo. O modelo "decora" o crime específico e não aprende a generalizar.
                </div>
            </div>

            <div class="bg-bg-surface p-6 rounded-xl border-2 border-intel-red relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-intel-red text-white text-xs px-2 py-1 font-bold">RECOMENDADO</div>
                <h3 class="text-lg font-bold text-intel-light mb-2">3. SMOTE</h3>
                <p class="text-xs text-gray-500 mb-3 uppercase tracking-wider">Synthetic Minority Over-sampling</p>
                <p class="text-gray-300 text-sm mb-4">Seleciona dois criminosos parecidos e cria matematicamente um terceiro "híbrido" entre eles.</p>
                <div class="bg-intel-red/10 p-3 rounded text-xs text-gray-300 border border-intel-red/30">
                    <strong>Vantagem:</strong> Expande a fronteira de decisão sem decorar os dados.
                </div>
            </div>
        </section>

        <section class="bg-bg-elevated p-6 rounded-xl border border-gray-700">
            <h2 class="text-2xl font-bold text-primary mb-6">Como o SMOTE Funciona (Algoritmo)</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <ol class="space-y-4 text-gray-300 list-decimal list-inside">
                    <li><strong>Seleção:</strong> Escolhe aleatoriamente um dado da classe minoritária (ex: uma fraude bancária confirmada).</li>
                    <li><strong>Vizinhança (KNN):</strong> Encontra os 5 vizinhos mais próximos dessa fraude (outras fraudes com características similares).</li>
                    <li><strong>Interpolação:</strong> Traça uma linha reta entre a fraude original e um vizinho.</li>
                    <li><strong>Síntese:</strong> Escolhe um ponto aleatório nessa linha. Esse é o novo dado sintético.</li>
                </ol>
                <div class="bg-black/40 p-6 rounded border border-gray-600 text-center">
                    <p class="text-gray-500 text-sm mb-2">Fórmula Vetorial Simplificada</p>
                    <div class="text-xl text-white math-font">
                        Novo = Atual + (Vizinho - Atual) × δ
                    </div>
                    <p class="text-xs text-gray-500 mt-2">Onde δ (delta) é um número aleatório entre 0 e 1.</p>
                </div>
            </div>
        </section>

        <section class="bg-intel-red/10 border-l-4 border-intel-red p-6 rounded-r-xl">
            <h3 class="text-xl font-bold text-primary flex items-center gap-2">
                ⚠ Regra de Ouro
            </h3>
            <p class="text-gray-300 mt-3 font-bold text-lg">
                NUNCA aplique SMOTE ou Amostragem nos dados de TESTE.
            </p>
            <p class="text-gray-400 mt-2 text-sm leading-relaxed">
                Você deve aplicar o balanceamento <strong>apenas no conjunto de Treino</strong>. O conjunto de Teste deve refletir a realidade crua e desbalanceada das ruas. Se você equilibrar o Teste, estará mentindo para si mesmo sobre a performance do modelo.
            </p>
        </section>

        <section>
            <h2 class="text-2xl font-bold text-primary mb-6">Parâmetros (Biblioteca imbalanced-learn)</h2>
            <div class="overflow-x-auto rounded-lg border border-gray-700">
                <table class="w-full text-left text-sm text-gray-400">
                    <thead class="bg-bg-elevated text-xs uppercase text-gray-200">
                        <tr>
                            <th class="px-6 py-4">Parâmetro</th>
                            <th class="px-6 py-4">Dica Prática (Tática)</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-800 bg-bg-surface">
                        <tr>
                            <td class="px-6 py-4 font-mono text-intel-light">sampling_strategy</td>
                            <td class="px-6 py-4">
                                Define a proporção desejada. 
                                <br><strong>Dica:</strong> Não tente forçar 50/50 (0.5). Geralmente elevar a minoria para 10% ou 20% (0.1 ou 0.2) já é suficiente para o modelo aprender, sem distorcer demais a realidade.
                            </td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 font-mono text-intel-light">k_neighbors</td>
                            <td class="px-6 py-4">
                                Número de vizinhos para interpolação. 
                                <br><strong>Dica:</strong> Padrão é 5. Se seus dados de crime são muito escassos (< 50 ocorrências), reduza para 3.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-bg-muted/20 p-5 rounded hover:bg-bg-muted/30 transition border-t-4 border-intel-red">
                <h3 class="font-bold text-white mb-2">Detecção de Terrorismo</h3>
                <p class="text-sm text-gray-400">Eventos extremamente raros. O SMOTE é vital para criar cenários sintéticos baseados em ataques passados, permitindo que o modelo reconheça padrões sutis.</p>
            </div>
            <div class="bg-bg-muted/20 p-5 rounded hover:bg-bg-muted/30 transition border-t-4 border-intel-red">
                <h3 class="font-bold text-white mb-2">Corregedoria (Desvio de Conduta)</h3>
                <p class="text-sm text-gray-400">A vasta maioria dos policiais é honesta. Para detectar os poucos corruptos, precisamos balancear os dados históricos de punições.</p>
            </div>
            <div class="bg-bg-muted/20 p-5 rounded hover:bg-bg-muted/30 transition border-t-4 border-intel-red">
                <h3 class="font-bold text-white mb-2">Fraudes em Licitações</h3>
                <p class="text-sm text-gray-400">Milhares de contratos são legais, poucos são fraudulentos. Usar Undersampling aqui é perigoso (perde-se histórico legal), então SMOTE é a melhor opção.</p>
            </div>
        </section>

    </div>

  <script src="../../assets/js/footer.js"></script>
</body>

</html>